% vim: ft=tex
\chapter{Project Plan}
\section{Timetable}
\subsection{Estimated time}
The projekt span is from 19.09 until 23.12. We expect 26 hours work per week which is a total of
320 hours per group member.

\begin{table}[H]
  \centering
  \scriptsize
  \caption{Timetable}
  \begin{tabular}{|p{80mm}|p{15mm}|}
    \hline 	\bf Project duration & 14 weeks \\ \hline
	\bf count of workers & 2 \\ \hline
	\bf time per worker & 25.7 hours per week \\ \hline
	\bf Total estimated time (without weighted damage) & 720 hours \\ \hline
	\bf Total estimated time (inclusive weighted damage) & 856 hours \\ \hline
	\bf Project start & 19.09.2016 \\ \hline
	\bf Project end & 23.12.2016 \\ \hline
  \end{tabular} \\
\end{table}

\subsection{Time Tracking}
All schedulings are done with Everhour and with git. Git includes all issues and Everhour is used for the time capturing (should / is ).

\subsection{Infrastructure}
\begin{table}[H]
  \centering
  \scriptsize
  \caption{Infrastructure}
  \begin{tabular}{|p{25mm}|p{30mm}|}
    \hline 	\bf Servername & sinv-56092.edu.hsr.ch \\ \hline
	\bf ip address & 152.96.56.92 \\ \hline
	\bf os & Ubuntu 14.04 LTS \\ \hline
	\bf VM EndofLife & 03.03.2017 \\ \hline
	\bf CPU & 1 vCPU max. 2.2 GHz \\ \hline
	\bf RAM & 1 GB \\ \hline
	\bf Disk drive & 15 GB \\ \hline
  \end{tabular} \\
\end{table}

\subsection{Tools}
\begin{table}[H]
  \centering
  \scriptsize
  \caption{Tools}
  \begin{tabular}{|p{50mm}|p{15mm}|p{15mm}|}
    \hline 	\bf Use & Name & Version \\ \hline
	\bf IDE & vim, ruby mine &  \\ \hline
	\bf version control system & git & 2.* \\ \hline
	\bf project management  & git, everhoour &  \\ \hline
  \end{tabular} \\
\end{table}

\subsection{Quality Measure}

\subsubsection{Documentation Review}
The project partner reads important sentences as well it will be disscused in the weekly stand up meetings.


\subsubsection{Meeting Minutes}
Meeting minutes include the participant, agenda items, decisions and todos. Manuel Schuler take over this task and logs erverything.
Every meeting minutes is saved on the github wiki site 24 hours before the meeting start and after the meeting it will be updated with the new information.

\subsubsection{Git Policy}
It's only allowed to push if all ruby spec tests pass.
% TODO to be defined..


\subsection{Meeting}
Meetings are agreed in consultation with the lecturer or the customer. 
The meeting minutes is kept, the individual agenda items, decisions and todos.
The project team makes one Weekly standup meeting - place in early / mid-week and serves only as a short exchange of information, 
review last week, recap the week goals, problems and plenary for questions or suggestions.


\section{Risks}
There were 9 risks that have been identified by the end of the Inception phase.
The risks have a total damage of 369 hours. The total damaged hours multiplied
with the probability of admission get a total of 137 hours. The weighted damage
hours are included in the project planning.

\subsection{Handling Risks}
Due to the nature of the risks, it is only natural they change during the course of a project.
To mitigate this, the risks are checked regularly (in weekly meetings) using the table below.

Changes to existing risks are possible. This usually means that either the likelihood or
the unweighted damage must be adapted immediately. Moreover, it's possible for a risk to
be completely ruled out, or that a new risk arises. All these points need to be discussed in
the team and tracked accordingly.

\section{Listed Risks}
\begin{tabular}[t]{@{}>{\raggedright}p{0.45\textwidth}}
  \textbf{\textit{P = Probability}}
  \begin{enumerate}[topsep=0pt,itemsep=-2pt,leftmargin=13pt]
  \item Rare (10\%)
  \item Unlikely (30\%)
  \item Possible (50\%)
  \item Likely (70\%)
  \item Certain (90\%)
  \end{enumerate}
\end{tabular}
\begin{tabular}[t]{@{}>{\raggedright}p{0.52\textwidth}@{}}
  \textbf{\textit{D = Damage potential  / R = Risk}}
  \begin{enumerate}[topsep=0pt,itemsep=-2pt,leftmargin=13pt]
  \item Insignificant
  \item Negligible
  \item Moderate
  \item Serious
  \item Significant
  \end{enumerate}
\end{tabular}

The delay is specified in days. One day equals 16 man-hours.

\begin{center}
  \begin{longtable}{|p{6mm}|p{30mm}|p{6mm}|p{8mm}|p{30mm}|p{64mm}|}
    \caption[Initial Risks]{Initial Risks} \label{tbl:risks} \\

    \hline \multicolumn{1}{l}{\textbf{ID}} &
    \multicolumn{1}{l}{\textbf{Description}} &
    \multicolumn{1}{l}{\textbf{P}} &
    \multicolumn{1}{l}{\textbf{DP}} &
    \multicolumn{1}{l}{\textbf{Prevention}} &
	\multicolumn{1}{l}{\textbf{Measures to be taken upon event}} \\ \hline
    \endfirsthead

    \multicolumn{6}{c}%
    {{\bfseries \tablename\ \thetable{} -- continues}} \\
    \hline \multicolumn{1}{c}{\textbf{ID}} &
    \multicolumn{1}{c}{\textbf{Description}} &
    \multicolumn{1}{c}{\textbf{P}} &
    \multicolumn{1}{c}{\textbf{DP}} &
    \multicolumn{1}{c}{\textbf{Prevention}} &
	\multicolumn{1}{c}{\textbf{Measures to be taken upon event }} \\ \hline
    \endhead

    \hline \multicolumn{5}{r}{{Continues on the next page}} \\ \hline
    \endfoot

    \hline
    \endlastfoot
    R01
		& Roadster requires different ZMQ contexts to function (not possible with CZTop because CZMQ hides contexts)
		& \cellcolor{green!50}1
		& \cellcolor{green!50}3
		& check with client	(done)
		& extract and run affected ZMQ \newline sockets in their own process \newline delay: 1-2 days \\ \hline
	R02 
		& wrong protocols chosen / protocol design flaw
		& \cellcolor{orange!50}3
		& \cellcolor{orange!50}5
		& architecture \newline reviews prototypes
		& fix (reevaluate reengineer, redesign) \newline delay: 8-12 days	\\ \hline
	R03 
		& ZMQ communication patterns (such as Binary Star) are difficult to implement as clean, reusable code
		& \cellcolor{yellow!50}2 
		& \cellcolor{yellow!50}4 
		& use software engineering knowhow to aim for clean, reusable prototypes
		& nice solution: \newline build more iteratively, step by step \newline delay: 2-4 days \newline \newline dirty solution: 
		\newline customized solution built right into Roadster, not as a public gem \newline delay: 1-2 days \\ \hline
	R04	
		& CZTop design flaws/limitations
		& \cellcolor{green!50}2
		& \cellcolor{green!50}2
		& check functionality in the elaboration phase
		& adapt CZtop \newline delay: 1-2 days \\ \hline		
	R05 
		& CZMQ changes API
		& \cellcolor{green!50}1
		& \cellcolor{green!50}3
		& (hope)
		& adapt CZTop, change CZTop adapter in Roadster, or just don't upgrade CZMQ (use a commit before the breaking change) \newline delay: 1-2 days \\ \hline
	R06 
		& wrong time estimations
		& \cellcolor{yellow!50}4
		& \cellcolor{yellow!50}3
		& use time well during planning, and define clear milestones
		& If possible, change the duration of the individual project phases. Otherwise, drop planned features
		(starting with the optional goal) \newline delay: 4-5 days \\ \hline		
	R07 
		& managing multiple Projects (at least one per repo) on Github too painful
		& \cellcolor{green!50}4
		& \cellcolor{green!50}1
		& setup project structure in the elaboration phase
		& partial solution: \newline CodeTree (can't seem to be used for private repos like Roadster itself (maybe yes! see  mindclue/roadster\#5) \newline
		\newline complete solution: \newline Use a single Project which just has cards that link to issues from other repos. 
		Linking to "foreign" issues is additional effort but should be straight forward using Github syntax (https://github.com/org/repo/issues/42)
		\newline delay: 1 day \\ \hline
	R08 
		& Prolonged loss of a team member
		& \cellcolor{green!50}2
		& \cellcolor{green!50}3
		& Track absences in meeting minutes.
		& In a prolonged absence, move milestones and, if necessary, change the project scope. \newline delay: 3-10 days \\ \hline
		
	R09 
		& Failure to achieve the defined task in time
		& \cellcolor{green!50}1
		& \cellcolor{green!50}4
		& Continuous monitoring whether we are on schedule and whether all requirements are met. 
		& Meeting convened as we still can transpose a large part of the required task within the prescribed period. \newline delay: 1-5 days\\ \hline		
   \end{longtable}
\end{center}

\begin{table}[H]
  \centering
  \scriptsize
  \caption{Initial Risk Matrix}
  \begin{tabular}{|m{27mm}|m{24mm}|m{20mm}|m{20mm}|m{20mm}|m{20mm}|@{}m{0pt}@{}}
    \hline 	\bf Propability / Damage & \bf 1-Insignificant. 	& \bf 2-Negligible 				& \bf 3-Moderate 			& \bf 4-Serious 			& \bf 5-Significant 	& \\ [10pt]
    \hline 	\bf 5-Certain 			& \cellcolor{yellow!50} 	& \cellcolor{yellow!50} 	& \cellcolor{orange!50} 			& \cellcolor{red!50} 		& \cellcolor{red!50} 			& \\ [10pt]
			\bf 4-Likely 			& \cellcolor{green!50} R07 	& \cellcolor{yellow!50} 	& \cellcolor{yellow!50} R06 	& \cellcolor{orange!50} 		& \cellcolor{red!50} 			& \\ [10pt]
			\bf 3-Possible 				& \cellcolor{green!50} 		& \cellcolor{green!50} 		& \cellcolor{yellow!50} 		& \cellcolor{yellow!50} 	& \cellcolor{orange!50} R02 		& \\ [10pt]
			\bf 2-Unlikely 			& \cellcolor{green!50} 	& \cellcolor{green!50} R04 	& \cellcolor{green!50} R08 		& \cellcolor{yellow!50} R03 & \cellcolor{yellow!50} 		& \\ [10pt]
			\bf 1-Rare 			& \cellcolor{green!50} 		& \cellcolor{green!50} 		& \cellcolor{green!50} R01, R05 & \cellcolor{green!50} R09 	& \cellcolor{green!50} 		& \\ [10pt]
    \hline
  \end{tabular} \\
\end{table}

\begin{ganttchart}[
  hgrid, 
  vgrid, 
  x unit=9mm
]{1}{14}
\ganttset{bar incomplete/.append style={fill=gray!40},
  group/.append style={draw=black, fill=gray},}
\gantttitle{Calendar weeks}{14} \\
\gantttitlelist{38,...,51}{1} \\
\gantttitle{Semester week}{14} \\
\gantttitlelist{1,...,14}{1} \\
\ganttgroup{Inception}{1}{1} \\
\ganttgroup{Elaboration 1}{2}{4} \\
\ganttgroup{Elaboration 2}{5}{6} \\
\ganttgroup{Elaboration 3}{7}{7} \\
\ganttgroup{Construction 1}{8}{9} \\
\ganttgroup{Construction 2}{10}{11} \\
\ganttgroup{Construction 3}{12}{13} \\
\ganttgroup{Transition}{14}{14} \\
\ganttbar[bar/.append style={fill=green}]{R01}{1}{6} \\
\ganttbar[bar/.append style={fill=orange}]{R02}{1}{5}\ganttbar[bar/.append style={fill=yellow}]{}{5}{5}\ganttbar[bar/.append style={fill=green}]{}{5}{6} \\
\ganttbar[bar/.append style={fill=yellow}]{R03}{1}{5}\ganttbar[bar/.append style={fill=green}]{}{5}{6} \\
\ganttbar[bar/.append style={fill=green}]{R04}{1}{5} \\
\ganttbar[bar/.append style={fill=green}]{R05}{1}{4} \\
\ganttbar[bar/.append style={fill=yellow}]{R06}{1}{5}\ganttbar[bar/.append style={fill=green}]{}{5}{7} \\
\ganttbar[bar/.append style={fill=green}]{R07}{1}{2} \\
\ganttbar[bar/.append style={fill=green}]{R08}{1}{13} \\
\ganttbar[bar/.append style={fill=green}]{R09}{1}{13} \\
%\ganttmilestone{Milestone 1}{11}
\end{ganttchart}

\begin{table}[H]
  \centering
  \caption{Risk-Timeline change protocol}
  \begin{tabular}{|p{20mm}|p{20mm}|p{102mm}|}
    \hline \bf Week & \bf Risk & \bf Description \\% [10pt]
    \hline 3 & R01 & .... \\% [10pt]
    \hline 3 & R06 & .... \\% [10pt]
    \hline
  \end{tabular} \\
\end{table}


\section{Iterations \& Phases}
\begin{center}
  \begin{longtable}{|p{25mm}|p{25mm} p{45mm}|p{10mm}|}
    \caption[Phase and Iterations]{Phase and Iterations} \label{tbl:Phase and Iterations} \\
	
    \hline \multicolumn{1}{c}{\textbf{Iteration}} &
    \multicolumn{2}{p{70mm}}{\textbf{Description}} &
    \multicolumn{1}{c}{\textbf{Due}} \\ \hline
    \endfirsthead

    \multicolumn{4}{c}%
    {{\bfseries \tablename\ \thetable{} -- continues}} \\
    \hline \multicolumn{1}{c}{\textbf{Iteration}} &
    \multicolumn{2}{p{70mm}}{\textbf{Description}} &
    \multicolumn{1}{c}{\textbf{Due}} \\ \hline
    \endhead

    \hline \multicolumn{4}{r}{{Continues on the next page}} \\ \hline
    \endfoot

    \hline
    \endlastfoot
	Inception
		& \multicolumn{2}{p{70mm}|}{setup proj mgmt, init documentation, define scope, understand requirements, 
		set priorities, assess \& analyze risks, estimate schedule, get familiar with Roadster} 
		& SW01 \\ \hline
	MS Inception
		& \textbf{Date}
		& \multicolumn{2}{l|}{25th Sept 2016} \\
		& \textbf{Description}
		& \multicolumn{2}{l|}{Inceptionphase ended} \\
		& \textbf{Workproducts}
		& \multicolumn{2}{l|}{project plan} \\
		& & \multicolumn{2}{l|}{risk matrix} \\
		& & \multicolumn{2}{l|}{project mgmt infrastructur} \\ \hline
	Elaboration 1
		& \multicolumn{2}{p{70mm}|}{write use cases, fundamental thougts on testing, roughly design protocols,
		cluster single \& multi level HA, persistence, key distribution, OPC-UA HA interface}
		& SW04 \\ \hline
	MS E1 Protocol
		& \textbf{Date}
		& \multicolumn{2}{l|}{16th Oct 2016} \\
		Designs & \textbf{Description}
		& \multicolumn{2}{l|}{Protocol designs are defined} \\
		& \textbf{Workproducts}
		& \multicolumn{2}{l|}{requirements \& use cases} \\
		& & \multicolumn{2}{l|}{protocol designs} \\ \hline
	Elaboration 2
		& \multicolumn{2}{p{70mm}|}{implement prototypes (cluster, single \& multi level HA, persistence, secure socket, 
		communication, OPC-UA HA interface}
		& SW06 \\ \hline
	MS E2 Proto-
		& \textbf{Date}
		& \multicolumn{2}{l|}{30th Oct 2016} \\
	types & \textbf{Description}
		& \multicolumn{2}{l|}{Prototypes are implemented and tested.} \\
		& \textbf{Workproducts}
		& \multicolumn{2}{l|}{Runnable prototypes} \\ \hline
	Elaboration 3
		& \multicolumn{2}{p{70mm}|}{revise risks, finish bulk of documentation, (reserve)}
		& SW07 \\ \hline
	Construction 1
		& \multicolumn{2}{p{70mm}|}{port CZTop, cluster (refactor \& integrate prototype)}
		& SW09 \\ \hline
	MS C1 Cluster
		& \textbf{Date}
		& \multicolumn{2}{l|}{20th Nov 2016} \\
		& \textbf{Description}
		& \multicolumn{2}{l|}{Runnable cluster functionality on top of CZTop.} \\
		& \textbf{Workproducts}
		& \multicolumn{2}{l|}{Cluster functonality CZTOP integration} \\ \hline
	Construction 2
		& \multicolumn{2}{p{70mm}|}{refactor, integrate and verify HA prototypes, persistence synchronization}
		& SW11 \\ \hline
	MS C2 HA
		& \textbf{Date}
		& \multicolumn{2}{l|}{4th Dec 2016} \\
		& \textbf{Description}
		& \multicolumn{2}{l|}{Working HA functionality and persistence synchronization} \\
		& \textbf{Workproducts}
		& \multicolumn{2}{l|}{HA functonality} \\
		& & \multicolumn{2}{l|}{persistence synchronization} \\ \hline
	Construction 3
		& \multicolumn{2}{p{70mm}|}{security (implement prototype, test), OPC UA HA (implement prototype, verify)}
		& SW13 \\ \hline
	MS C3 Security
		& \textbf{Date}
		& \multicolumn{2}{l|}{18th Dec 2016} \\
		& \textbf{Description}
		& \multicolumn{2}{l|}{secure communication between nodes} \\
		& \textbf{Workproducts}
		& \multicolumn{2}{l|}{Security} \\ \hline
	Transition 1
		& \multicolumn{2}{p{70mm}|}{polish documentation, write abstract, create poster, print documentation \& burn CDs}
		& SW14 \\ \hline
	MS T1 Delivery
		& \textbf{Date}
		& \multicolumn{2}{l|}{23rd Dec 2016 - 5:00 pm} \\
		& \textbf{Description}
		& \multicolumn{2}{l|}{Complete handover of thesis} \\
		& \textbf{Workproducts}
		& \multicolumn{2}{l|}{Thesis in paperform} \\ \hline
   \end{longtable}
\end{center}
