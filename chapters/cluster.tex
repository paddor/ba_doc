\chapter{Cluster}\label{ch:cluster}
\section{Concept}
TODO explain planned multi node setup\\
TODO election/design of appropriate protocol\\
TODO explain Clustered Hashmap Protocol (I guess)\\


\begin{lstlisting}[style=customsh]
* PCP: use DIM to know node tree and determine next hop for (dialog or fire+forget) messages

* decide on sync variant
  - variant 1
    - always sync on self-subtree only
    - con: no copy of remaining tree

  - variant 2:
    - always sync on complete tree
    - get snapshot and merge own subtree

  - variant 3:
    - make it configurable: either sync on subtree or complete tree

* node topology in DSL, static file shared on all nodes, read by each actor on startup
* specific config file on each node (conf.rb) knows its own place in topology
    conf.system_id = "nodes.root" # no HA
    OR
    conf.system_id = "nodes.root_ha.foo" # with root HA, subnode A directly below root level

 * maybe a HA pair is one DIM object, has one name, but two IP addresses (primary and backup, in order)
\end{lstlisting}

\section{Implementation}
TODO explain how to implement/integrate CHP

